var CZ;(function(n){(function(t){function i(){$("#btnToggleSignedIn").attr("data-active",t.isSignedIn);$("#btnToggleEditor").attr("data-active",t.isEditor);$("#btnToggleDisable").attr("data-active",t.isDisabled);$("#btnToggleHide").attr("data-active",t.isHidden);t.isHidden?$("#mnu").hide():$("#mnu").show();t.isDisabled?$("#mnu").removeClass("disabled").addClass("disabled"):$("#mnu").removeClass("disabled");t.isSignedIn?$("#mnuProfile").attr("title","My Profile / Sign Out").find("img").attr("src","/images/profile-icon-green.png"):$("#mnuProfile").attr("title","Register / Sign In").find("img").attr("src","/images/profile-icon.png");t.isEditor?$("#mnuCurate").show():$("#mnuCurate").hide()}t.isSignedIn=!1;t.isEditor=!1;t.isDisabled=!1;t.isHidden=!1;t.Refresh=i;$(document).ready(function(){var r=250,i="fast";$("#mnu").children("li").mouseenter(function(){$(this).hasClass("active")&&!$("#mnu").hasClass("disabled")&&$(this).children("ul").slideDown(r)}).mouseleave(function(){$(this).children("ul").slideUp(i)}).on("touchstart",function(){$(this).children("ul").length===1&&($(this).children("ul").is(":visible")?$(this).trigger("mouseleave"):$(this).trigger("mouseenter"))}).children("ul").children("li").click(function(n){n.stopPropagation();$(this).children().hasClass("chevron")?$(this).hasClass("active")?($(this).children(".chevron").html("&#9654;"),$(this).removeClass("active").children("ul").slideUp(i)):($(this).children(".chevron").html("&#9698;"),$(this).addClass("active").children("ul").slideDown(r)):$(this).parent().slideUp(i)}).children("ul").children("li").click(function(n){n.stopPropagation();$(this).parent().parent().parent().slideUp(i)});$("#mnuViewTours").click(function(t){t.stopPropagation();n.HomePageViewModel.panelShowToursList(!1)});$("#mnuViewSeries").click(function(t){t.stopPropagation();n.HomePageViewModel.panelToggleTimeSeries()});$("#mnuCurate").hide().click(function(){t.isDisabled||(t.isSignedIn?t.isEditor||n.Authoring.showMessageWindow("Sorry, you do not have edit rights to this collection.","Unable to Curate"):n.HomePageViewModel.panelToggleLogin())});$("#mnuCreateCollection").click(function(t){t.stopPropagation();n.HomePageViewModel.closeAllForms();AddCollection()});$("#mnuCreateTimeline").click(function(t){t.stopPropagation();n.HomePageViewModel.closeAllForms();n.Overlay.Hide();n.Authoring.UI.createTimeline()});$("#mnuCreateExhibit").click(function(t){t.stopPropagation();n.HomePageViewModel.closeAllForms();n.Overlay.Hide();n.Authoring.UI.createExhibit()});$("#mnuCreateTour").click(function(t){t.stopPropagation();n.HomePageViewModel.closeAllForms();n.Overlay.Hide();n.Authoring.UI.createTour()});$("#mnuEditTours").click(function(t){t.stopPropagation();n.HomePageViewModel.panelShowToursList(!0)});$("#mnuMine").click(function(){t.isDisabled||(t.isSignedIn?n.Overlay.Show(!0):n.HomePageViewModel.panelToggleLogin())});$("#mnuSearch").click(function(){t.isDisabled||n.HomePageViewModel.panelToggleSearch()});$("#mnuProfile").click(function(){t.isDisabled||(t.isSignedIn?n.HomePageViewModel.panelToggleProfile():n.HomePageViewModel.panelToggleLogin())})});this.AddCollection=function(){var t,i;if(n.Authoring.hideMessageWindow(),t=prompt("What name would you like for your new collection?\nNote: The name must be unique among your collections.","")||"",t=$.trim(t),i=t.replace(/[^a-zA-Z0-9]/g,""),i!==""){if(i.length>50){n.Authoring.showMessageWindow("The name of your new collection must be no more than 50 characters in length.","Unable to Create Collection");return}n.Service.getCollection().done(function(r){n.Service.isUniqueCollectionName(t).done(function(u){if(!u||i===r.Path){n.Authoring.showMessageWindow("Sorry your new collection name is not unique enough. Please try a different name.","Unable to Create Collection");return}n.Service.postCollection(i,{Title:t}).done(function(t){t?window.location=(window.location.protocol+"//"+window.location.host+"/"+n.Service.superCollectionName+"/"+i).toLowerCase():n.Authoring.showMessageWindow("An unexpected error occured.","Unable to Create Collection")})})})}}})(n.Menus||(n.Menus={}));var t=n.Menus})(CZ||(CZ={}));
/*
//# sourceMappingURL=menus.min.js.map
*/